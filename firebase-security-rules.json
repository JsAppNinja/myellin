{
  "rules": {
    "outcomes": {
      ".indexOn": ["slug"],
      ".read": true,
      "$outcome": {
          // Must be an admin to create an outcome
         ".write": "auth != null && root.child('users/' + auth.uid + '/admin').val() === true"
      }  
    },
    "relations": {
      ".read": true,
      "section_to_outcome": {
        "home": {
          "$outcome": {
            // Must be an admin to add an outcome to the homepage
            ".write": "auth != null && root.child('users/' + auth.uid + '/admin').val() === true"
          }
        }
      },
      // Other paths are writeable by anyone for now
      "$other": {
        ".write": true
      }
    },
    "playlists": {
      ".read": true,
      ".write": true
    },
    "options": {
      ".read": true,
      "$option": {
          // Must be logged in AND either creating new data or updating existing data belonging to you
         ".write": "auth != null && 
                      (!data.exists() || data.child('author_id').val() == auth.uid)",
          // Must include required children, author_id must match auth.id, and description must be a string
         ".validate": "newData.hasChildren(['author_id', 'description']) && 
                        newData.child('author_id').val() == auth.uid && 
                          newData.child('description').isString()"
      }
    },
    "suboutcomes": {
      ".read": true,
      ".write": true
    },
    "users": {
      ".read": true,
      ".write": true
    },
    "upvotes": {
      ".read": true,
      ".write": true
    }
  }
}